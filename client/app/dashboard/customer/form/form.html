<div class="container-fluid">
  <div class="page-header-content">
    <div class="heading-elements hide-xs">
      <a class="btn btn-link lnk-submenu" ui-sref="app.dashboard.customer">
        <i class="fa fa-search" aria-hidden="true"></i>
        <p>検索する</p>
      </a>
		</div>
    <div class="page-title">
      <h4>飼い主 - 新規登録</h4>
      <ul class="breadcrumb breadcrumb-caret small" ncy-breadcrumb></ul>
    </div>
  </div>
  <section class="panel">
    <div class="panel-body">
      <form name="form" novalidate="true" ng-if="!ctrl.confirm">
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="customerCode" label="飼い主コード" model="ctrl.customer.customerCode" maxlength="50" disabled="!!ctrl.customer.id" message="50 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="lastName" label="飼い主さま（姓）" model="ctrl.customer.user.lastName" maxlength="50" required="true" message="50 文字以内で入力してください。"></ptc-input>
          </div>
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="firstName" label="飼い主さま（名）" model="ctrl.customer.user.firstName" maxlength="50" required="true" message="50 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="lastNameKana" label="飼い主さま（姓・よみがな）" model="ctrl.customer.user.lastNameKana" maxlength="50" message="50 文字以内のカタカナで入力してください。"></ptc-input>
          </div>
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="firstNameKana" label="飼い主さま（名・よみがな）" model="ctrl.customer.user.firstNameKana" maxlength="50" message="50 文字以内のカタカナで入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3 col-xs-6">
            <ptc-input type="text" form="form" name="zipCode" label="郵便番号" model="ctrl.customer.user.zipCode" maxlength="50" pattern="^(\d{7})$" message="7 文字の半角数字で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3 col-xs-6">
            <ptc-input type="text" form="form" name="state" label="都道府県" model="ctrl.customer.user.state" required="true" maxlength="50" message="10 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="city" label="市区町村" model="ctrl.customer.user.city" required="true" maxlength="50" message="50 文字以内で入力してください。"></ptc-input>
          </div>
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="street" label="番地" model="ctrl.customer.user.street" required="true" maxlength="50" message="50 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="other" label="その他" model="ctrl.customer.user.other" maxlength="50" message="50 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="phoneNo" label="電話番号（自宅）" model="ctrl.customer.user.phoneNo" required="true" maxlength="15" pattern="^\d{1,4}-\d{4}$|^\d{2,5}-\d{1,4}-\d{4}$" message="15 文字以内の半角数字とハイフンで入力してください。"></ptc-input>
          </div>
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="text" form="form" name="mobilePhoneNo" label="電話番号（携帯）" model="ctrl.customer.user.mobilePhoneNo" maxlength="15" pattern="^\d{1,4}-\d{4}$|^\d{2,5}-\d{1,4}-\d{4}$" message="15 文字以内の半角数字とハイフンで入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="email" form="form" name="email" label="メールアドレス" model="ctrl.customer.user.email" required="true" maxlength="100" message="100 文字以内で有効なメールアドレスを入力してください。" onblur="ctrl.copyEmailToLogin()"></ptc-input>
          </div>
        </div>
        <!-- <div class="row">
          <div class="col-sm-6 col-xs-12">
            <ptc-input type="email" form="form" name="login" label="ログインID" model="ctrl.customer.user.login" required="true" maxlength="100" message="100 文字以内で有効なメールアドレスを入力してください。" hint="飼い主様が petical.io にログインすることで、飼い主様自身が自宅からカルテを参照したり、ペットに関する情報をメンテナンスできるようになります。飼い主様から指定がある場合のみ、そのアカウントを入力します。"></ptc-input>
          </div>
        </div> -->
        <div class="row">
          <div class="col-xs-12 text-right" ng-if="ctrl.customer.id">
            <button class="btn btn-primary" ng-disabled="form.$invalid" ng-click="ctrl.update(ctrl.customer)">保存する</button>
            <button class="btn btn-link" ui-sref="app.dashboard.customer.detail({customerId: ctrl.customer.id})">キャンセル</button>
          </div>
          <div class="col-xs-12 text-right" ng-if="!ctrl.customer.id">
            <button class="btn btn-primary" ng-disabled="form.$invalid" ng-click="ctrl.save(ctrl.customer)">登録する</button>
            <button class="btn btn-link" ui-sref="app.dashboard.customer">キャンセル</button>
          </div>
        </div>
      </form>
      <form name="form" novalidate="true" ng-if="!!ctrl.confirm">
        <div class="alert alert-warning">
          同じメールアドレスで以下のユーザーが既に存在しています。<br />このユーザーの情報を飼い主の基本情報として使用しますか？
        </div>
      </form>
    </div>
  </section>
</div>
