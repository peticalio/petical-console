<div class="container-fluid">
  <div class="page-header-content">
    <div class="heading-elements hide-xs">
      <a class="btn btn-link lnk-submenu" ui-sref="app.dashboard.ticket">
        <i class="fa fa-ticket" aria-hidden="true"></i>
        <p>チケット</p>
      </a>
      <a class="btn btn-link lnk-submenu" ui-sref="app.dashboard.customer.detail({customerId: ctrl.ticket.chart.customer.id})">
        <i class="fa fa-user" aria-hidden="true"></i>
        <p>飼い主</p>
      </a>
      <a class="btn btn-link lnk-submenu" ui-sref="app.dashboard.chart.detail({chartId:ctrl.ticket.chart.id})">
        <i class="fa fa-file-text-o" aria-hidden="true"></i>
        <p>カルテ</p>
      </a>
		</div>
    <div class="page-title">
      <h4>チケット - 予約・受付</h4>
      <ul class="breadcrumb breadcrumb-caret small" ncy-breadcrumb></ul>
    </div>
  </div>
  <section class="panel">
    <div class="panel-body">
      <form name="form" novalidate="true">
        <div class="row">
          <div class="col-sm-2">
            <i class="fa fa-nav fa-hospital-o"></i>動物病院:
          </div>
          <div class="col-sm-4">
            <p>{{ctrl.clinic.name}}</p>
          </div>
          <div class="col-sm-2">
            <i class="fa fa-nav fa-hashtag"></i>カルテ番号:
          </div>
          <div class="col-sm-4">
            <p>{{ctrl.ticket.chart.chartNo}}</p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-2">
            <i class="fa fa-nav fa-user"></i>飼い主さま:
          </div>
          <div class="col-sm-4">
            <p>{{ctrl.ticket.chart.customer.user.lastName}} {{ctrl.ticket.chart.customer.user.firstName}} 様</p>
          </div>
          <div class="col-sm-2">
            <i class="fa fa-nav fa-heart-o"></i>お名前:
          </div>
          <div class="col-sm-4">
            <p>{{ctrl.ticket.chart.pet.name}} ちゃん</p>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <ptc-input type="date" form="form" name="startDateTime" label="開始日" model="ctrl.ticket.startDateTime" required="true"></ptc-input>
          </div>
          <div class="col-sm-3">
            <ptc-select form="form" name="startTime" label="開始予定時刻" model="ctrl.startTime" data="ctrl.timetable" required="true"></ptc-select>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <ptc-input type="date" form="form" name="endDateTime" label="終了日" model="ctrl.ticket.endDateTime" required="true"></ptc-input>
          </div>
          <div class="col-sm-3">
            <ptc-select form="form" name="endTime" label="終了予定時刻" model="ctrl.endTime" data="ctrl.timetable" required="true"></ptc-select>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <ptc-textarea form="form" name="memo" label="主訴・稟告内容" model="ctrl.ticket.autognosis" maxlength="2000" message="2000 文字以内で入力してください。"></ptc-input>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12 text-right" ng-if="!ctrl.ticket.id">
            <button class="btn btn-primary" ng-disabled="form.$invalid" ng-click="ctrl.save(ctrl.ticket)">登録する</button>
            <button class="btn btn-link" ui-sref="app.dashboard.chart.detail({chartId:ctrl.ticket.chart.id})">キャンセル</button>
          </div>
          <div class="col-sm-12 text-right" ng-if="!!ctrl.ticket.id">
            <button class="btn btn-primary" ng-disabled="form.$invalid" ng-click="ctrl.update(ctrl.ticket)">保存する</button>
            <button class="btn btn-link" ui-sref="app.dashboard.ticket.detail({ticketId:ctrl.ticket.id})">キャンセル</button>
          </div>
        </div>
      </form>
    </div>
  </section>
</div>
